The `*.fits` simulation beams here originate from Nicolas Fagnoni's simulations, found at:

https://github.com/Nicolas-Fagnoni/Simulations

These files here are e-field and power beams, and the script `convert_to_healpix.py` was used to convert the directivity beams from the CST output to healpix (after unzipping the `.zip` files in `Radiation patterns/Directivity/` directory<sup>[1](#foot1)</sup>). This was done on 12 May, 2017, using Simulations git has 587e076. Only "East" polarization is available from the simulation, but "North" can be created by rotating ninety degrees because there is nothing in the simulation that would break the symmetry.

The beams are centered at theta = 0, and East at phi = 0 in healpix coordinate. An example script to read in the data and plot is provided, `example_beam_read.py`.

The script `convert_to_uvbeam` allows for converting E-field and power beam patterns from the original CST files to pyuvdata's UVBeam object and the beam FITS format. It also supports converting to HEALPix and limiting the frequency range of the beams read in. The script was used to generate the fits beam files in this folder (actually stored on Git LFS), on 11 Jan 2019 (using the Simulations git hash 72bb3c3 and pyuvdata git hash 288cb54).

The files generated by this script follow the pyuvdata beamfits format (described here: https://github.com/HERA-Team/pyuvdata/blob/master/docs/references/beamfits_memo.pdf),
and can be read into pyuvdata's UVBeam object using the `UVBeam.read_beamfits` method.

[Update: 2/12/2019]
As of commit b04a24c, the hard-coded file crawling of `convert_to_uvbeam.py` was eliminated in favor of passing a single path, `data_dir`, to a directory holding the necessary `*MHz.txt` CST file outputs from Nic Fagnoni's simulations. This was done to make it compatible with Nic Fagnoni's new CST output for the Vivaldi feed. For reproducing the work done above on the old dipole feed, one simply needs to `mv` the `.txt` files in `Radiation patterns/E-field pattern - Rigging height 4.9 m/HERA_4.9m_E-pattern_100-150MHz` and likewise `*/HERA_4.9m_E-pattern_151-200MHz` to a separate directory in the repository, and run `convert_to_uvbeam.py` pointed to that location.

<a name="foot1">1</a>: As of commit c06c980, this directory was renamed to `Radiation patterns/Directivity - Rigging height 4.9 m/`.
